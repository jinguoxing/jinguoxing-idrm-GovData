# 识别结果确认页面 - 定位与访问指南

## 一、页面定位

### 1.1 系统架构中的位置

**识别结果确认**页面位于 **Bottom-up 识别模块** 中，是数据发现流程的核心确认环节。

```
数据发现模块 (Bottom-up)
│
├─ 数据源管理 (BU-01)
│
├─ 资产扫描 (BU-02)
│
├─ 逻辑视图 (BU-03)
│   └─ (语义理解完成后可跳转)
│
├─ 识别结果确认 (BU-05) ← 当前位置
│   ├─ 识别任务概览
│   ├─ 识别结果对比
│   ├─ 批量确认
│   └─ 冲突解释
│
└─ 候选生成 (BU-04)
```

### 1.2 业务流程中的定位

```
数据发现流程：
┌─────────────────────────────────────────┐
│ 1. 数据源管理                           │
│    └─ 连接数据源                        │
│                                         │
│ 2. 资产扫描                             │
│    └─ 扫描物理表结构                    │
│                                         │
│ 3. 逻辑视图（语义理解）                 │
│    └─ AI 语义分析                       │
│    └─ 字段语义识别                      │
│         ↓                               │
│    【可跳转到识别结果确认】              │
│                                         │
│ 4. 识别结果确认 ← 当前位置              │
│    ├─ 验证识别结果准确性                │
│    ├─ 确认表级对象建议                  │
│    ├─ 确认字段语义分类                  │
│    └─ 解决规则与AI冲突                  │
│         ↓                               │
│    【生成已确认的识别结果】              │
│                                         │
│ 5. 候选生成                             │
│    └─ 基于确认结果生成业务对象候选      │
└─────────────────────────────────────────┘
```

---

## 二、访问方式

### 2.1 主要访问入口

#### 方式1：侧边栏菜单（主入口）

**路径**：
```
侧边栏 → 数据发现 → 识别结果确认
```

**菜单项信息**：
- **菜单ID**: `bu_identification`
- **菜单标签**: 识别结果确认
- **图标**: FileCheck
- **颜色**: emerald（绿色）
- **位置**: 数据发现模块的第四个菜单项

**菜单结构**：
```
数据发现 (text-emerald-400)
├─ 数据源管理 (BU-01)
├─ 资产扫描 (BU-02)
├─ 逻辑视图 (BU-03)
├─ 识别结果确认 ← 点击这里
└─ 候选生成 (BU-04)
```

#### 方式2：逻辑视图页面跳转（快捷入口）

**位置**：逻辑视图（BU-03）页面的 AI 语义理解区域

**操作步骤**：
1. 在逻辑视图中完成表的 AI 语义分析
2. 在 AI 语义理解结果卡片中
3. 点击"识别结果确认"按钮（绿色按钮，带 FileCheck 图标）
4. 自动跳转到识别结果确认页面

**按钮位置**：
- 在 AI 语义理解结果区域的底部
- 与"生成业务对象"按钮并排显示
- 按钮文字："识别结果确认"或仅显示图标

#### 方式3：识别任务概览页快速操作（内部导航）

**位置**：识别结果确认页面的"识别任务概览"标签页

**操作步骤**：
1. 已进入识别结果确认页面
2. 在"识别任务概览"标签页的快速操作区
3. 点击"识别结果对比"、"批量确认"或"冲突解释"按钮
4. 切换到对应的子标签页

---

## 三、页面结构与导航

### 3.1 页面层级结构

```
识别结果确认页面
│
├─ 顶部标题区
│   ├─ 页面标题："识别结果确认"
│   └─ 页面描述："AI + 规则识别的结果是否符合业务认知"
│
├─ 标签页导航区
│   ├─ 识别任务概览 (overview)
│   ├─ 识别结果对比 (comparison)
│   ├─ 批量确认 (batch)
│   └─ 冲突解释 (conflict)
│
└─ 内容展示区（根据选中标签页动态切换）
    ├─ 识别任务概览 → IdentificationOverviewTab
    ├─ 识别结果对比 → IdentificationComparisonTab
    ├─ 批量确认 → BatchConfirmationTab
    └─ 冲突解释 → ConflictExplanationTab
```

### 3.2 标签页导航

**默认标签页**：`overview`（识别任务概览）

**标签页切换**：
- 点击顶部标签页按钮切换
- 通过快速操作按钮跳转
- URL 参数控制（如果有实现）

**各标签页功能**：

| 标签页 | 功能 | 使用场景 |
|--------|------|----------|
| **识别任务概览** | 统计展示、快速导航 | 查看整体情况，选择操作入口 |
| **识别结果对比** | 逐项对比确认 | 详细查看每个表的识别结果 |
| **批量确认** | 批量处理高置信度结果 | 快速处理大量识别结果 |
| **冲突解释** | 解决规则与AI冲突 | 处理判断不一致的情况 |

---

## 四、与其他页面的关系

### 4.1 上游页面（数据来源）

#### 逻辑视图 (BU-03)
- **关系**：逻辑视图完成语义理解后，可以进入识别结果确认
- **数据流**：语义理解结果 → 识别结果确认的输入
- **跳转方式**：逻辑视图中的"识别结果确认"按钮

#### 资产扫描 (BU-02)
- **关系**：资产扫描的物理表是识别结果的数据源
- **数据流**：扫描的物理表 → 识别结果确认

### 4.2 下游页面（数据流向）

#### 候选生成 (BU-04)
- **关系**：识别结果确认后的数据用于生成业务对象候选
- **数据流**：已确认的识别结果 → 候选生成

#### 业务对象建模 (TD-03)
- **关系**：识别结果可用于创建业务对象
- **数据流**：识别结果 → 业务对象定义

#### 映射工作台 (SG-01)
- **关系**：识别结果确认后可以创建映射关系
- **数据流**：已确认的识别结果 → 映射关系

---

## 五、访问路径总结

### 5.1 完整访问路径

```
方式1：直接访问（主路径）
侧边栏菜单 → 数据发现 → 识别结果确认

方式2：工作流访问（推荐路径）
逻辑视图 → AI语义分析 → 识别结果确认按钮 → 识别结果确认页面

方式3：内部导航（页面内）
识别结果确认页面 → 识别任务概览 → 快速操作按钮 → 其他标签页
```

### 5.2 快捷访问建议

**新用户**：
- 建议从侧边栏菜单直接访问，先查看"识别任务概览"

**工作流用户**：
- 在逻辑视图完成语义理解后，直接点击"识别结果确认"按钮

**批量处理用户**：
- 从侧边栏进入后，直接切换到"批量确认"标签页

**冲突处理用户**：
- 从侧边栏进入后，直接切换到"冲突解释"标签页，或从识别结果对比页的"查看冲突"按钮跳转

---

## 六、技术实现细节

### 6.1 路由配置

**模块ID**: `bu_identification`

**路由注册**：
```typescript
case 'bu_identification':
    return <IdentificationResultView 
        setActiveModule={setActiveModule}
        dataSources={dataSources}
        scanAssets={scanAssets}
        setScanAssets={setScanAssets}
    />;
```

### 6.2 状态管理

**页面状态**：
- `activeTab`: 当前选中的标签页（'overview' | 'comparison' | 'batch' | 'conflict'）
- `identificationResults`: 识别结果数据列表
- `selectedConflict`: 选中的冲突项ID（用于冲突解释页）
- `selectedItems`: 批量选中的项（用于批量确认页）

### 6.3 数据传递

**传入参数**：
- `setActiveModule`: 模块切换函数
- `dataSources`: 数据源列表
- `scanAssets`: 扫描资产列表
- `setScanAssets`: 更新扫描资产的函数

**传出数据**：
- 已确认的识别结果（通过 `identificationResults` 状态更新）

---

## 七、用户指南

### 7.1 首次访问

1. **从侧边栏进入**：点击"数据发现" → "识别结果确认"
2. **查看概览**：默认显示"识别任务概览"，了解整体情况
3. **选择操作**：根据需求选择快速操作按钮
   - 需要详细查看 → 点击"识别结果对比"
   - 需要批量处理 → 点击"批量确认"
   - 需要解决冲突 → 点击"冲突解释"

### 7.2 常规工作流

1. **在逻辑视图完成语义分析**
2. **点击"识别结果确认"按钮**（推荐）
3. **进入识别结果确认页面**
4. **查看和确认识别结果**
5. **处理冲突（如有）**
6. **批量确认高置信度结果**

### 7.3 快速操作

**快速处理大量结果**：
1. 进入页面 → 切换到"批量确认"标签页
2. 筛选高置信度结果
3. 批量勾选
4. 批量接受

**快速解决冲突**：
1. 进入页面 → 切换到"冲突解释"标签页
2. 查看冲突列表
3. 逐个解决冲突

---

## 八、常见问题

### Q1: 识别结果确认页面在哪里？

**A**: 在侧边栏的"数据发现"模块下，菜单项名称为"识别结果确认"。

### Q2: 如何从逻辑视图跳转到识别结果确认？

**A**: 在逻辑视图的 AI 语义理解结果区域，点击"识别结果确认"按钮（绿色按钮）。

### Q3: 识别结果确认页面包含哪些功能？

**A**: 包含4个标签页：
- 识别任务概览（统计和快速导航）
- 识别结果对比（逐项查看和确认）
- 批量确认（批量处理）
- 冲突解释（解决冲突）

### Q4: 识别结果确认是必须的吗？

**A**: 是的，识别结果确认是 Bottom-up 识别流程的核心环节，用于验证和确认 AI + 规则的识别结果，确保结果符合业务认知。

### Q5: 识别结果确认完成后，数据流向哪里？

**A**: 已确认的识别结果可以用于：
- 候选生成（生成业务对象候选）
- 业务对象建模（创建业务对象）
- 映射工作台（建立映射关系）

---

## 九、总结

**识别结果确认页面**是数据发现流程中的关键环节，提供了多种访问方式：

1. **主入口**：侧边栏菜单直接访问
2. **快捷入口**：逻辑视图页面跳转
3. **内部导航**：页面内的标签页切换

页面定位清晰，功能完整，支持统计查看、逐项确认、批量处理和冲突解决等多种操作模式，满足不同用户的工作需求。

